{"componentChunkName":"component---src-templates-post-tsx","path":"/darkflow-outlet/","result":{"data":{"markdownRemark":{"html":"<blockquote>\n<p>주관적인 글입니다. 이것이 학계의 정설은 아니며 피드백 환영합니다^ㅇ^<br>\n아직 모델개발에 성공하지 못했기 때문에 과정중에 느낀 것들이고 틀릴 수 있습니다!\n질문에 답변해주신분들(이 모님, 신 모님), 정보를 제공해준 블로그(운영자님)들 모두 고맙습니다🙏</p>\n</blockquote>\n<br>\n<h2 id=\"0-서론\" style=\"position:relative;\"><a href=\"#0-%EC%84%9C%EB%A1%A0\" aria-label=\"0 서론 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>0. 서론</h2>\n<p>인턴을 하며 딥러닝 공부를 시작했고, 모델 개발을 위해 darkflow를 이용해서 <code class=\"language-text\">데이터수집-&gt;전처리-&gt;학습-&gt;조금바꿔서학습-&gt;데이터수집-&gt;...</code> 의 과정을 반복했습니다.<br><br>\n<br>\n소소하게 개인적으로 개발일지만 작성하고 있었는데, 한 분기가 끝났고 10월이 된 기념으로 지난 몇 주간 모델개발을 하며 느낀 점(<em>이라 쓰고 의식의 흐름이라고 읽는다.</em>)을 기록하려고 합니다.<br>\n<br><br>\n<br></p>\n<h2 id=\"1-label-class\" style=\"position:relative;\"><a href=\"#1-label-class\" aria-label=\"1 label class permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. Label (class)</h2>\n<h4 id=\"자세를-나노단위로방향따라-나누는-것은-의미가-없다고-느낍니다\" style=\"position:relative;\"><a href=\"#%EC%9E%90%EC%84%B8%EB%A5%BC-%EB%82%98%EB%85%B8%EB%8B%A8%EC%9C%84%EB%A1%9C%EB%B0%A9%ED%96%A5%EB%94%B0%EB%9D%BC-%EB%82%98%EB%88%84%EB%8A%94-%EA%B2%83%EC%9D%80-%EC%9D%98%EB%AF%B8%EA%B0%80-%EC%97%86%EB%8B%A4%EA%B3%A0-%EB%8A%90%EB%82%8D%EB%8B%88%EB%8B%A4\" aria-label=\"자세를 나노단위로방향따라 나누는 것은 의미가 없다고 느낍니다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>자세를 나노단위로(방향따라) 나누는 것은 의미가 없다고 느낍니다.</h4>\n<p>(예. sleep<em>front, sleep</em>head, sleep_side)<br><br>\n<br><br>\n어차피 잠(sleep)이라는 것은 동일하기 때문입니다. 대신 데이터셋은 충분히 많아야 합니다.  (몇장..?)  Yolo 기본 모델을 돌려보면 '사람, 동물, 차'를 방향과 관계없이 똑같은 '사람, 동물, 차'로 인식하는 것을 알 수 있습니다. 따라서  <strong>자는 강아지 데이터는 모두  <code class=\"language-text\">sleep</code>으로 라벨링 했습니다.</strong><br>\n<br>\n<br></p>\n<h2 id=\"2-전처리-순서\" style=\"position:relative;\"><a href=\"#2-%EC%A0%84%EC%B2%98%EB%A6%AC-%EC%88%9C%EC%84%9C\" aria-label=\"2 전처리 순서 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. 전처리 순서</h2>\n<h4 id=\"1-조건에-맞지-않는-사진-지우기-솎아내기\" style=\"position:relative;\"><a href=\"#1-%EC%A1%B0%EA%B1%B4%EC%97%90-%EB%A7%9E%EC%A7%80-%EC%95%8A%EB%8A%94-%EC%82%AC%EC%A7%84-%EC%A7%80%EC%9A%B0%EA%B8%B0-%EC%86%8E%EC%95%84%EB%82%B4%EA%B8%B0\" aria-label=\"1 조건에 맞지 않는 사진 지우기 솎아내기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. 조건에 맞지 않는 사진 지우기 (솎아내기)</h4>\n<p>데이터의 질이 중요하다고 생각한다 -  <strong>정확도&#x26;화질</strong><br></p>\n<h4 id=\"2-데이터-이름-일괄적으로-변경하기-예-a1-a2-a3-\" style=\"position:relative;\"><a href=\"#2-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%9D%B4%EB%A6%84-%EC%9D%BC%EA%B4%84%EC%A0%81%EC%9C%BC%EB%A1%9C-%EB%B3%80%EA%B2%BD%ED%95%98%EA%B8%B0-%EC%98%88-a1-a2-a3-\" aria-label=\"2 데이터 이름 일괄적으로 변경하기 예 a1 a2 a3  permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. 데이터 이름 일괄적으로 변경하기 (예. a1, a2, a3, ...)</h4>\n<p>꼭 할 필요는 없지만, 정리할 때 더 편한 느낌<br></p>\n<h4 id=\"3-라벨링-궈궈\" style=\"position:relative;\"><a href=\"#3-%EB%9D%BC%EB%B2%A8%EB%A7%81-%EA%B6%88%EA%B6%88\" aria-label=\"3 라벨링 궈궈 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. 라벨링 궈궈</h4>\n<p>Yolo_mark(txt), labelImg(xml) 등 이용<br></p>\n<h4 id=\"4-annotation-형식에-맞추기\" style=\"position:relative;\"><a href=\"#4-annotation-%ED%98%95%EC%8B%9D%EC%97%90-%EB%A7%9E%EC%B6%94%EA%B8%B0\" aria-label=\"4 annotation 형식에 맞추기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. annotation 형식에 맞추기</h4>\n<p>(<a href=\"https://github.com/ZZANZU/YOLO-convert-txt-2-xml\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">convert<em>txt</em>2_xml</a>)을 이용해서 txt로 라벨링한 것들만 xml로 바꿔주었다. (darkflow는 annotation으로 xml을 사용하기 때문) </p>\n<br>\n  <br>\n<h2 id=\"3-데이터-수집에-대하여\" style=\"position:relative;\"><a href=\"#3-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%88%98%EC%A7%91%EC%97%90-%EB%8C%80%ED%95%98%EC%97%AC\" aria-label=\"3 데이터 수집에 대하여 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. 데이터 수집에 대하여</h2>\n<h3 id=\"1-데이터를-확보할-수-있는-창구-필요\" style=\"position:relative;\"><a href=\"#1-%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%A5%BC-%ED%99%95%EB%B3%B4%ED%95%A0-%EC%88%98-%EC%9E%88%EB%8A%94-%EC%B0%BD%EA%B5%AC-%ED%95%84%EC%9A%94\" aria-label=\"1 데이터를 확보할 수 있는 창구 필요 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1) 데이터를 확보할 수 있는 창구 필요</h3>\n<p>데이터를 확보할 수 있는 방법을 많이 생각해 봐야할 것 같다. 크롤링, 지인찬스, 구매 등<br></p>\n<h3 id=\"2-데이터-수량이-정말-중요할까\" style=\"position:relative;\"><a href=\"#2-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%88%98%EB%9F%89%EC%9D%B4-%EC%A0%95%EB%A7%90-%EC%A4%91%EC%9A%94%ED%95%A0%EA%B9%8C\" aria-label=\"2 데이터 수량이 정말 중요할까 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2) 데이터 수량이 정말 중요할까?</h3>\n<p>학습이 잘 되지 않자, 모든 것에 의심을 하기 시작했다. 알고보니 내 Labeling에 문제가 있는 건 아닐까?! 이것에 대한 정답은 모르겠지만 (여전히 학습이 잘 안되기 때문^^!) 확실한건 데이터의 양은  <strong>다다익선</strong><br>\n<a href=\"https://user-images.githubusercontent.com/37680108/65928930-c96b4f80-e43a-11e9-95f3-c4bba0f1a1d3.PNG\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><img src=\"https://user-images.githubusercontent.com/37680108/65928930-c96b4f80-e43a-11e9-95f3-c4bba0f1a1d3.PNG\" alt=\"ㅠㅠ\"></a><br>\n<a href=\"http://thesciencelife.com/archives/923\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">원문링크</a><br>\n<br>\n<br></p>\n<h2 id=\"4-꿀팁\" style=\"position:relative;\"><a href=\"#4-%EA%BF%80%ED%8C%81\" aria-label=\"4 꿀팁 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. 꿀팁</h2>\n<h3 id=\"1-문제가-생겼을-땐-darkflow-깃헙의-issue를-봐라\" style=\"position:relative;\"><a href=\"#1-%EB%AC%B8%EC%A0%9C%EA%B0%80-%EC%83%9D%EA%B2%BC%EC%9D%84-%EB%95%90-darkflow-%EA%B9%83%ED%97%99%EC%9D%98-issue%EB%A5%BC-%EB%B4%90%EB%9D%BC\" aria-label=\"1 문제가 생겼을 땐 darkflow 깃헙의 issue를 봐라 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1) 문제가 생겼을 땐 Darkflow 깃헙의 Issue를 봐라.</h3>\n<p>특히 close된 것은 해결된 것! 따봉 많인 받은 답변을 우선적으로~!<br></p>\n<h3 id=\"2-learning-rate\" style=\"position:relative;\"><a href=\"#2-learning-rate\" aria-label=\"2 learning rate permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2) learning rate</h3>\n<p>초반엔 크게, 어느정도 내려오면 작게 설정하기. (시간단축)  <br><br>\n<code class=\"language-text\">--lr 0.0001</code> learning rate를 0.0001로 설정한다는 뜻.<br><br>\ncf) 1e-03 = 0.001<br></p>\n<h3 id=\"3-darkflow는-weights파일대신-meta파일-사용\" style=\"position:relative;\"><a href=\"#3-darkflow%EB%8A%94-weights%ED%8C%8C%EC%9D%BC%EB%8C%80%EC%8B%A0-meta%ED%8C%8C%EC%9D%BC-%EC%82%AC%EC%9A%A9\" aria-label=\"3 darkflow는 weights파일대신 meta파일 사용 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3) Darkflow는 weights파일대신 meta파일 사용!</h3>\n<p>test할 때! 아마도 이게 학습된 모델<br><br>\n학습시 <code class=\"language-text\">--backup &lt;폴더명&gt;</code>에 지정한 폴더에 생긴답니다. (기본 : ckpt폴더)  <br><br>\n<code class=\"language-text\">--load -1</code> : 제일 최근 학습된 모델 불러오기.<br><br>\n<code class=\"language-text\">--load &lt;체크포인트번호&gt;</code> : &#x3C;체크포인트>에 해당하는 모델 불러오기.<br></p>\n<h3 id=\"4-checkpoint-설정\" style=\"position:relative;\"><a href=\"#4-checkpoint-%EC%84%A4%EC%A0%95\" aria-label=\"4 checkpoint 설정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4) Checkpoint 설정</h3>\n<p>\\darkflow\\darkflow\\net\\flow.py 70번째 줄에서 괄호부분을 바꿔준다. <br><br>\nckpt = (i+1) % (self.FLAGS.save // self.FLAGS.batch) &#x3C;- 이 괄호부분!  <br><br>\n<code class=\"language-text\">ckpt = (i+1) % 10</code>  step10마다 저장한다는 뜻<br></p>\n<h3 id=\"5-threshold-설정\" style=\"position:relative;\"><a href=\"#5-threshold-%EC%84%A4%EC%A0%95\" aria-label=\"5 threshold 설정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5) threshold 설정</h3>\n<p><code class=\"language-text\">--threshold 0.3</code>  30% 정확도로 박스를 친다는 뜻<br></p>\n<h3 id=\"6-tensorboard-이용하기\" style=\"position:relative;\"><a href=\"#6-tensorboard-%EC%9D%B4%EC%9A%A9%ED%95%98%EA%B8%B0\" aria-label=\"6 tensorboard 이용하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>6) Tensorboard 이용하기</h3>\n<p>학습 커맨드에  <code class=\"language-text\">--summary /&lt;저장경로&gt;</code>  를 추가해준다.  <br><br>\n그러면 &#x3C;저장경로>/train 안에 events가 저장이 된다.  <br><br>\ntrain폴더에서 cmd를 띄운 뒤</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">&gt;tensorboard --logdir=./</code></pre></div>\n<p>를 입력해주고, 그 밑에 뜨는 링크로 접속하면 확인할 수 있다.<br>  </p>\n<p>모든 TensorBoard Kill하려면</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">&gt;pkill -f &quot;tensorboard&quot;</code></pre></div>\n<hr>\n<p><em>! 예전 블로그에서 옮겨온 게시물입니다.</em></p>","excerpt":"…","tableOfContents":"<ul>\n<li><a href=\"/darkflow-outlet/#0-%EC%84%9C%EB%A1%A0\">0. 서론</a></li>\n<li><a href=\"/darkflow-outlet/#1-label-class\">1. Label (class)</a></li>\n<li><a href=\"/darkflow-outlet/#2-%EC%A0%84%EC%B2%98%EB%A6%AC-%EC%88%9C%EC%84%9C\">2. 전처리 순서</a></li>\n<li>\n<p><a href=\"/darkflow-outlet/#3-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%88%98%EC%A7%91%EC%97%90-%EB%8C%80%ED%95%98%EC%97%AC\">3. 데이터 수집에 대하여</a></p>\n<ul>\n<li><a href=\"/darkflow-outlet/#1-%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%A5%BC-%ED%99%95%EB%B3%B4%ED%95%A0-%EC%88%98-%EC%9E%88%EB%8A%94-%EC%B0%BD%EA%B5%AC-%ED%95%84%EC%9A%94\">1) 데이터를 확보할 수 있는 창구 필요</a></li>\n<li><a href=\"/darkflow-outlet/#2-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%88%98%EB%9F%89%EC%9D%B4-%EC%A0%95%EB%A7%90-%EC%A4%91%EC%9A%94%ED%95%A0%EA%B9%8C\">2) 데이터 수량이 정말 중요할까?</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"/darkflow-outlet/#4-%EA%BF%80%ED%8C%81\">4. 꿀팁</a></p>\n<ul>\n<li><a href=\"/darkflow-outlet/#1-%EB%AC%B8%EC%A0%9C%EA%B0%80-%EC%83%9D%EA%B2%BC%EC%9D%84-%EB%95%90-darkflow-%EA%B9%83%ED%97%99%EC%9D%98-issue%EB%A5%BC-%EB%B4%90%EB%9D%BC\">1) 문제가 생겼을 땐 Darkflow 깃헙의 Issue를 봐라.</a></li>\n<li><a href=\"/darkflow-outlet/#2-learning-rate\">2) learning rate</a></li>\n<li><a href=\"/darkflow-outlet/#3-darkflow%EB%8A%94-weights%ED%8C%8C%EC%9D%BC%EB%8C%80%EC%8B%A0-meta%ED%8C%8C%EC%9D%BC-%EC%82%AC%EC%9A%A9\">3) Darkflow는 weights파일대신 meta파일 사용!</a></li>\n<li><a href=\"/darkflow-outlet/#4-checkpoint-%EC%84%A4%EC%A0%95\">4) Checkpoint 설정</a></li>\n<li><a href=\"/darkflow-outlet/#5-threshold-%EC%84%A4%EC%A0%95\">5) threshold 설정</a></li>\n<li><a href=\"/darkflow-outlet/#6-tensorboard-%EC%9D%B4%EC%9A%A9%ED%95%98%EA%B8%B0\">6) Tensorboard 이용하기</a></li>\n</ul>\n</li>\n</ul>","fields":{"slug":"/darkflow-outlet/"},"frontmatter":{"title":"[Darkflow] 두 달간 사용하며 알게된 것들","date":"Oct 03, 2019","tags":["Darkflow","TIP"],"keywords":["darkflow","deeplearning","딥러닝","삽질"],"update":"Jan 01, 0001"}}},"pageContext":{"slug":"/darkflow-outlet/","series":[],"lastmod":"0001-01-01"}}}